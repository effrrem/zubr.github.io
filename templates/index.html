{% extends "base.html" %}

{% block content %}
<h1>–ü–æ–∏—Å–∫ –∑–∞–ø—á–∞—Å—Ç–µ–π</h1>

<!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ -->
<form method="POST">
    <div style="margin-bottom: 10px;">
        <label for="search_type">–ò—Å–∫–∞—Ç—å –ø–æ:</label>
        <select name="search_type" id="search_type">
            <option value="name" {% if search_type == 'name' %}selected{% endif %}>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é</option>
            <option value="catalog" {% if search_type == 'catalog' %}selected{% endif %}>‚Ññ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É</option>
            <option value="price" {% if search_type == 'price' %}selected{% endif %}>–†–æ–∑–Ω–∏—á–Ω–æ–π —Ü–µ–Ω–µ</option>
            <option value="stock" {% if search_type == 'stock' %}selected{% endif %}>–ù–∞–ª–∏—á–∏—é –Ω–∞ —Å–∫–ª–∞–¥–µ (‚â•)</option>
        </select>
    </div>

    <div style="margin-bottom: 10px;">
        <label for="search_query">–ó–∞–ø—Ä–æ—Å:</label>
        <input
            type="text"
            id="search_query"
            name="search_query"
            value="{{ search_query }}"
            placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
        >
    </div>

    <button type="submit">üîç –ü–æ–∏—Å–∫</button>
</form>

<a href="{{ url_for('index') }}" class="btn">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–µ—Ç–∞–ª–∏</a>

<h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
{% if parts %}
<table border="1" width="100%">
    <thead>
        <tr>
            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
            <th>‚Ññ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É</th>
            <th>–†–æ–∑–Ω. —Ü–µ–Ω–∞</th>
            <th>–°–∫–ª–∞–¥</th>
            <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
        </tr>
    </thead>
    <tbody>
        {% for part in parts %}
        <tr>
            <td>{{ part[1] }}</td> <!-- name -->
            <td>{{ part[2] }}</td> <!-- catalog_number -->
            <td>{{ part[3] }}</td> <!-- retail_price -->
            <td>{{ part[4] }}</td> <!-- stock -->
            <td>{{ part[5] }}</td> <!-- description -->
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>‚ùå –î–µ—Ç–∞–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã.</p>
{% endif %}
{% endblock %}